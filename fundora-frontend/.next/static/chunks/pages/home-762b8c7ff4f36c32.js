(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{65732:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return a(31881)}])},31838:function(e,t,a){"use strict";a.d(t,{Z:function(){return Footer}});var s=a(85893);function Footer(){return(0,s.jsxs)("footer",{className:"bg-[#071a1b] text-gray-300 py-8 mt-12",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold",children:"Fundora"}),(0,s.jsx)("div",{className:"text-sm text-gray-400 mt-2",children:"Onchain pension vaults"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Services"}),(0,s.jsx)("div",{children:"Lock & Save"}),(0,s.jsx)("div",{children:"Borrow"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,s.jsx)("div",{className:"font-semibold",children:"About"}),(0,s.jsx)("div",{children:"Contact us"})]})]}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-6 mt-8 text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Fundora — Privacy Policy • Terms of Service"]})]})}},4658:function(e,t,a){"use strict";a.d(t,{Z:function(){return Navbar}});var s=a(85893),l=a(41664),n=a.n(l),r=a(24359),i=a(38793),o=a(67294),c=a(3407);function UsernameModal(e){let{address:t,onClose:a,onSave:l}=e,[n,r]=(0,o.useState)("");return(0,s.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:a}),(0,s.jsxs)(c.E.div,{initial:{y:20},animate:{y:0},className:"relative bg-white text-black rounded-lg p-6 w-full max-w-md z-50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Create your Fundora username"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"This will be your display name inside the app (tied to your connected wallet)."}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm",children:"Username"}),(0,s.jsx)("input",{value:n,onChange:e=>r(e.target.value),className:"mt-1 w-full border rounded px-3 py-2",placeholder:"e.g. User"})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:a,className:"px-4 py-2",children:"Cancel"}),(0,s.jsx)("button",{onClick:function(){if(!n||n.trim().length<2)return alert("Enter a username (min 2 chars)");localStorage.setItem("fundora_username_"+t,n.trim()),l&&l(n.trim())},className:"px-4 py-2 bg-pvteal text-pvdark rounded",children:"Save"})]})]})]})}var d=a(11163);function Navbar(){let{address:e}=(0,i.mA)(),{disconnect:t}=(0,i.qL)(),[a,l]=(0,o.useState)(!1),[c,m]=(0,o.useState)(null),u=(0,d.useRouter)();return(0,o.useEffect)(()=>{if(!e){m(null);return}let t=localStorage.getItem("fundora_username_"+e);t?m(t):l(!0)},[e]),(0,s.jsxs)("nav",{className:"bg-transparent px-6 py-4 fixed top-0 left-0 right-0 z-30",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)(n(),{href:"/",className:"text-white font-bold",children:"Fundora"}),(0,s.jsxs)("div",{className:"hidden md:flex gap-6 text-gray-200",children:[(0,s.jsx)(n(),{href:"/",children:"Home"}),(0,s.jsx)(n(),{href:"/faucet",children:"Faucet"}),(0,s.jsx)(n(),{href:"/about",children:"About"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e&&c&&(0,s.jsxs)("div",{className:"hidden sm:block text-right mr-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:c}),(0,s.jsxs)("div",{className:"text-xs text-gray-300",children:[e.slice(0,6),"...",e.slice(-4)]})]}),(0,s.jsx)(r.NL,{showBalance:!1,chainStatus:"icon",accountStatus:"address"}),(0,s.jsx)("button",{onClick:function(){if(!e){u.push("/");return}localStorage.removeItem("fundora_username_"+e),localStorage.removeItem("fundora_vault_"+e),localStorage.removeItem("fundora_loan_"+e),localStorage.removeItem("fundora_balance_"+e);try{t()}catch(e){}u.push("/"),window.location.reload()},className:"ml-3 px-3 py-2 bg-transparent border border-gray-600 text-gray-200 rounded",children:"Logout"})]})]}),a&&(0,s.jsx)(UsernameModal,{address:e,onClose:()=>l(!1),onSave:e=>{m(e),l(!1)}})]})}},31881:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return HomePage}});var s=a(85893),l=a(9008),n=a.n(l),r=a(4658),i=a(31838),o=a(67294),c=a(3407),d=a(38793);function DepositModal(e){let{onClose:t,onDeposit:a}=e,[l,n]=(0,o.useState)(0),[r,i]=(0,o.useState)(30),{address:m}=(0,d.mA)();return(0,s.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-40 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:t}),(0,s.jsxs)(c.E.div,{initial:{y:20},animate:{y:0},className:"relative bg-white text-black rounded-lg p-6 w-full max-w-md z-50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Deposit to Vault"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Enter the amount of mock USDC to deposit and set how long it should be locked."}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm",children:"Amount (USDC)"}),(0,s.jsx)("input",{type:"number",value:l,onChange:e=>n(e.target.value),className:"mt-1 w-full border rounded px-3 py-2"}),(0,s.jsx)("label",{className:"block text-sm mt-3",children:"Timelock (days)"}),(0,s.jsx)("input",{type:"number",value:r,onChange:e=>i(e.target.value),className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:t,className:"px-4 py-2",children:"Cancel"}),(0,s.jsx)("button",{onClick:function(){let e=Number(l);if(!e||e<=0)return alert("Enter a valid amount");let t=Date.now(),s="fundora_balance_"+m,n=Number(localStorage.getItem(s)||"0");if(e>n)return alert("Insufficient mock USDC in your wallet. Visit Faucet to mint.");localStorage.setItem(s,String(n-e)),a(e,t+864e5*r)},className:"px-4 py-2 bg-pvteal text-pvdark rounded",children:"Deposit"})]})]})]})}function LoanModal(e){let{onClose:t,vault:a,onCreateLoan:l}=e,[n,r]=(0,o.useState)(0),[i,m]=(0,o.useState)(30),{address:u}=(0,d.mA)();return(0,s.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-40 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:t}),(0,s.jsxs)(c.E.div,{initial:{y:20},animate:{y:0},className:"relative bg-white text-black rounded-lg p-6 w-full max-w-md z-50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Request a Loan"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Loans allowed up to 60% of your vault balance and must be repaid before your vault unlocks."}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm",children:"Amount (USDC)"}),(0,s.jsx)("input",{type:"number",value:n,onChange:e=>r(e.target.value),className:"mt-1 w-full border rounded px-3 py-2"}),(0,s.jsx)("label",{className:"block text-sm mt-3",children:"Repayment (days)"}),(0,s.jsx)("input",{type:"number",value:i,onChange:e=>m(e.target.value),className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:t,className:"px-4 py-2",children:"Cancel"}),(0,s.jsx)("button",{onClick:function(){let e=Number(n);if(!e||e<=0)return alert("Enter a valid amount");let t=.6*a.balance;if(e>t)return alert("Loan too large. Max allowed is ".concat(t," USDC (60% of vault)."));if(!a.timelockEndsAt)return alert("You must have a timelocked vault to borrow.");let s=new Date(a.timelockEndsAt).getTime()-Date.now(),r=Math.floor(s/864e5);if(i>r)return alert("Loan repayment must be within your vault timelock (max ".concat(r," days)."));let o=Date.now()+864e5*i,c="fundora_balance_"+u,d=Number(localStorage.getItem(c)||"0");localStorage.setItem(c,String(d+e)),l({amount:e,dueAt:o})},className:"px-4 py-2 bg-pvteal text-pvdark rounded",children:"Request Loan"})]})]})]})}function HomePage(){let{address:e}=(0,d.mA)(),[t,a]=(0,o.useState)({balance:0,timelockEndsAt:null}),[l,c]=(0,o.useState)(null),[m,u]=(0,o.useState)(!1),[x,h]=(0,o.useState)(!1),[f,b]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!e)return;let t=localStorage.getItem("fundora_username_"+e);b(t);let s=localStorage.getItem("fundora_vault_"+e);s&&a(JSON.parse(s));let l=localStorage.getItem("fundora_loan_"+e);l&&c(JSON.parse(l))},[e]),(0,o.useEffect)(()=>{e&&localStorage.setItem("fundora_vault_"+e,JSON.stringify(t))},[t,e]),(0,o.useEffect)(()=>{e&&(l?localStorage.setItem("fundora_loan_"+e,JSON.stringify(l)):localStorage.removeItem("fundora_loan_"+e))},[l,e]),(0,s.jsxs)("div",{children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"Fundora — Dashboard"})}),(0,s.jsx)(r.Z,{}),(0,s.jsx)("main",{className:"min-h-screen bg-[#071a1b] text-white px-6 py-20",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold",children:f||"Guest"}),(0,s.jsxs)("div",{className:"text-gray-400 mt-1 text-sm",children:["Address: ",e?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"Not connected"]})]})}),(0,s.jsx)("p",{className:"text-gray-400 mt-4",children:"Welcome — this dashboard shows your vault and loans (mocked locally and scoped to your wallet)."}),(0,s.jsxs)("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"p-6 bg-[#0b2b2b] rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Vault"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold",children:[t.balance," USDC"]}),(0,s.jsxs)("div",{className:"text-gray-400 mt-2",children:["Timelock ends: ",t.timelockEndsAt?new Date(t.timelockEndsAt).toLocaleString():"Not set"]})]}),(0,s.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-pvteal text-pvdark rounded",children:"Deposit"}),(0,s.jsx)("button",{disabled:!t.balance,onClick:()=>h(!0),className:"px-4 py-2 border border-gray-600 rounded disabled:opacity-50",children:"Loan"})]})]}),(0,s.jsxs)("div",{className:"p-6 bg-[#0b2b2b] rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Active Loan"}),l?(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[l.amount," USDC"]}),(0,s.jsxs)("div",{className:"text-gray-400 mt-2",children:["Due by: ",new Date(l.dueAt).toLocaleString()]})]}):(0,s.jsx)("div",{className:"mt-4 text-gray-400",children:"No active loan"})]})]})]})}),(0,s.jsx)(i.Z,{}),m&&(0,s.jsx)(DepositModal,{onClose:()=>u(!1),onDeposit:(e,t)=>{a(a=>({balance:a.balance+e,timelockEndsAt:t})),u(!1)}}),x&&(0,s.jsx)(LoanModal,{onClose:()=>h(!1),vault:t,onCreateLoan:e=>{c(e),h(!1)}})]})}}},function(e){e.O(0,[5802,9774,2888,179],function(){return e(e.s=65732)}),_N_E=e.O()}]);